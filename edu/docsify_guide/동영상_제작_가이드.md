# 대본(시나리오)으로 동영상 만드는 방법 (Python + ffmpeg)

이 가이드는 텍스트로 된 대본 파일(`.txt`)을 음성 내레이션이 포함된 동영상 파일(`.mp4`)로 변환하는 방법을 단계별로 설명합니다.

---

## 🚀 전체 과정 요약

1.  **[1단계] 대본 파일 준비**: 동영상으로 만들고 싶은 시나리오를 `.txt` 파일로 준비합니다.
2.  **[2단계] 텍스트를 음성으로 변환 (TTS)**: Python 스크립트를 사용하여 대본 파일을 읽고, AI 목소리로 `narration.mp3` 파일을 생성합니다.
3.  **[3단계] 영상에 사용할 이미지 준비**: 대본의 내용에 맞춰 `image01.png`, `image02.png` 등 순서에 맞는 이미지 파일을 준비합니다.
4.  **[4단계] 음성과 이미지를 합쳐 동영상 만들기**: `ffmpeg` 명령어를 사용하여 음성 파일과 이미지들을 합쳐 최종 `output.mp4` 동영상을 생성합니다.

---

## 🛠️ 필요한 도구 설치

### 1. Python 및 gTTS 라이브러리
음성 변환을 위해 Python과 구글 TTS 라이브러리인 `gTTS`를 설치해야 합니다.

```bash
# gTTS 라이브러리 설치 (터미널 또는 명령 프롬프트에서 실행)
pip install gTTS
```

### 2. ffmpeg
이미지와 오디오를 합쳐 동영상을 만들기 위한 필수 도구입니다. [ffmpeg 공식 홈페이지](https://ffmpeg.org/download.html)에서 다운로드하여 설치하고, 시스템 환경 변수에 경로를 추가해야 합니다.

사용자님의 파일 목록에 `ffmpeg.zip`이 있는 것을 확인했습니다. 해당 파일의 압축을 풀고, `bin` 폴더를 시스템의 `Path` 환경 변수에 추가하면 어디서든 `ffmpeg` 명령을 사용할 수 있습니다.

---

## 🎬 단계별 실행 가이드

### 1단계: 대본 파일 준비

먼저 `대본.txt` 라는 이름의 텍스트 파일을 만들고, 아래와 같이 동영상으로 만들고 싶은 내용을 작성합니다.

**`대본.txt` 예시:**
```
안녕하세요. UTTEC 교육 채널입니다.
오늘은 대본으로 동영상을 만드는 방법을 알아보겠습니다.
먼저 파이썬을 이용해 텍스트를 음성으로 변환합니다.
그 다음, ffmpeg 으로 이미지와 음성을 합쳐 동영상을 완성합니다.
참 쉽죠?
```

### 2단계: Python으로 음성 파일 생성 (`tts_creator.py`)

아래의 Python 코드를 `tts_creator.py` 라는 이름의 파일로 저장합니다. 이 코드는 `대본.txt` 파일을 읽어 `narration.mp3` 라는 음성 파일을 생성해줍니다.

**`tts_creator.py` 코드:**
```python
from gtts import gTTS
import os

# 대본 파일 경로
script_file_path = '대본.txt'
# 생성될 오디오 파일 경로
audio_file_path = 'narration.mp3'

try:
    # 대본 파일 읽기 (UTF-8 인코딩으로)
    with open(script_file_path, 'r', encoding='utf-8') as file:
        script_text = file.read()

    if script_text:
        print(f"대본을 성공적으로 읽었습니다. 음성 변환을 시작합니다...")
        # gTTS를 사용하여 텍스트를 음성으로 변환 (한국어 'ko')
        tts = gTTS(text=script_text, lang='ko')
        
        # mp3 파일로 저장
        tts.save(audio_file_path)
        
        print(f"성공! '{audio_file_path}' 파일이 생성되었습니다.")
    else:
        print("대본 파일에 내용이 없습니다.")

except FileNotFoundError:
    print(f"오류: '{script_file_path}' 파일을 찾을 수 없습니다.")
except Exception as e:
    print(f"오류가 발생했습니다: {e}")

```

**실행 방법:**
터미널에서 아래 명령어를 실행하면, `tts_creator.py`가 실행되어 `narration.mp3` 파일이 생성됩니다.
```bash
python tts_creator.py
```

### 3단계: 이미지 파일 준비

대본의 내용과 길이에 맞춰 동영상에 표시할 이미지들을 준비합니다. 이미지 파일 이름은 `image01.png`, `image02.png`, `image03.png`... 와 같이 순서대로 번호를 붙여주세요.

- `image01.png`: "안녕하세요" 부분에 나올 이미지
- `image02.png`: "파이썬" 관련 부분에 나올 이미지
- `image03.png`: "ffmpeg" 관련 부분에 나올 이미지
- `image04.png`: "참 쉽죠?" 부분에 나올 이미지

### 4단계: `ffmpeg`으로 동영상 최종 생성

이제 모든 재료가 준비되었습니다. 터미널에서 아래 `ffmpeg` 명령어를 실행하여 이미지와 음성을 합칩니다.

```bash
ffmpeg -framerate 1/5 -i image%02d.png -i narration.mp3 -c:v libx264 -tune stillimage -c:a aac -b:a 192k -pix_fmt yuv420p -shortest output.mp4
```

**명령어 옵션 설명:**
- `-framerate 1/5`: 각 이미지를 5초 동안 표시합니다. (1초에 1/5 프레임)
- `-i image%02d.png`: `image01.png`, `image02.png` ... 형식의 이미지 파일을 입력으로 사용합니다.
- `-i narration.mp3`: 음성 파일을 입력으로 사용합니다.
- `-c:v libx264`: 비디오 코덱으로 `libx264`를 사용 (가장 보편적인 H.264 코덱)
- `-tune stillimage`: 입력이 정지 이미지(사진)임을 알려주어 인코딩을 최적화합니다.
- `-c:a aac -b:a 192k`: 오디오 코덱으로 `aac`를, 비트레이트는 `192k`로 설정합니다.
- `-pix_fmt yuv420p`: 대부분의 플레이어에서 호환되는 픽셀 포맷으로 설정합니다.
- `-shortest`: 오디오와 비디오 중 더 짧은 쪽의 길이에 맞춰 동영상을 생성합니다. (즉, 음성 내레이션이 끝나면 동영상도 끝납니다.)
- `output.mp4`: 최종적으로 생성될 동영상 파일의 이름입니다.

---

## ✨ 완성!

위 명령을 실행하면 `output.mp4` 파일이 생성됩니다. 이 파일을 재생하여 대본의 내용이 목소리로 나오고, 순서에 맞게 이미지가 변경되는 것을 확인하실 수 있습니다.

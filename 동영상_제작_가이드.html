<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>대본(시나리오)으로 동영상 만드는 방법</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            line-height: 1.8;
            color: #333;
            max-width: 800px;
            margin: 20px auto;
            padding: 25px;
            background-color: #f9f9f9;
            border: 1px solid #ddd;
            border-radius: 8px;
        }
        h1, h2, h3 {
            font-weight: 700;
            color: #0056b3;
            border-bottom: 2px solid #0056b3;
            padding-bottom: 10px;
        }
        h1 { font-size: 2.2em; }
        h2 { font-size: 1.8em; margin-top: 40px; }
        h3 { font-size: 1.4em; margin-top: 30px; border-bottom: 1px solid #ccc; }
        code, pre {
            background-color: #e9ecef;
            padding: 4px 8px;
            border-radius: 5px;
            font-family: "SFMono-Regular", Consolas, "Liberation Mono", Menlo, Courier, monospace;
            font-size: 0.95em;
        }
        pre {
            padding: 15px;
            overflow-x: auto;
            white-space: pre-wrap;
            word-wrap: break-word;
        }
        strong {
            color: #c0392b;
        }
        .step {
            margin-bottom: 25px;
            padding: 20px;
            border-left: 5px solid #3498db;
            background-color: #fff;
            border-radius: 0 5px 5px 0;
        }
        .final-step {
            margin-top: 30px;
            padding: 25px;
            background-color: #e6f7ff;
            border: 1px solid #91d5ff;
            border-radius: 8px;
            text-align: center;
        }
        a {
            color: #007bff;
            text-decoration: none;
        }
        a:hover {
            text-decoration: underline;
        }
    </style>
</head>
<body>

    <h1>🎬 대본(시나리오)으로 동영상 만드는 방법 (Python + ffmpeg)</h1>
    <p>이 가이드는 텍스트로 된 대본 파일(<code>.txt</code>)을 음성 내레이션이 포함된 동영상 파일(<code>.mp4</code>)로 변환하는 방법을 단계별로 설명합니다.</p>

    <hr>

    <h2>🚀 전체 과정 요약</h2>
    <ol>
        <li><strong>[1단계] 대본 파일 준비</strong>: 동영상으로 만들고 싶은 시나리오를 <code>.txt</code> 파일로 준비합니다.</li>
        <li><strong>[2단계] 텍스트를 음성으로 변환 (TTS)</strong>: Python 스크립트를 사용하여 대본 파일을 읽고, AI 목소리로 <code>narration.mp3</code> 파일을 생성합니다.</li>
        <li><strong>[3단계] 영상에 사용할 이미지 준비</strong>: 대본의 내용에 맞춰 <code>image01.png</code>, <code>image02.png</code> 등 순서에 맞는 이미지 파일을 준비합니다.</li>
        <li><strong>[4단계] 음성과 이미지를 합쳐 동영상 만들기</strong>: <code>ffmpeg</code> 명령어를 사용하여 음성 파일과 이미지들을 합쳐 최종 <code>output.mp4</code> 동영상을 생성합니다.</li>
    </ol>

    <hr>

    <h2>🛠️ 필요한 도구 설치</h2>

    <div class="step">
        <h3>1. Python 및 gTTS 라이브러리</h3>
        <p>음성 변환을 위해 Python과 구글 TTS 라이브러리인 <code>gTTS</code>를 설치해야 합니다.</p>
        <pre><code># gTTS 라이브러리 설치 (터미널 또는 명령 프롬프트에서 실행)
pip install gTTS</code></pre>
    </div>

    <div class="step">
        <h3>2. ffmpeg</h3>
        <p>이미지와 오디오를 합쳐 동영상을 만들기 위한 필수 도구입니다. <a href="https://ffmpeg.org/download.html" target="_blank">ffmpeg 공식 홈페이지</a>에서 다운로드하여 설치하고, 시스템 환경 변수에 경로를 추가해야 합니다.</p>
        <p>사용자님의 파일 목록에 <code>ffmpeg.zip</code>이 있는 것을 확인했습니다. 해당 파일의 압축을 풀고, <code>bin</code> 폴더를 시스템의 <code>Path</code> 환경 변수에 추가하면 어디서든 <code>ffmpeg</code> 명령을 사용할 수 있습니다.</p>
    </div>

    <h2>🎬 단계별 실행 가이드</h2>

    <div class="step">
        <h3>1단계: 대본 파일 준비</h3>
        <p>먼저 <code>대본.txt</code> 라는 이름의 텍스트 파일을 만들고, 아래와 같이 동영상으로 만들고 싶은 내용을 작성합니다.</p>
        <p><strong><code>대본.txt</code> 예시:</strong></p>
        <pre><code>안녕하세요. UTTEC 교육 채널입니다.
오늘은 대본으로 동영상을 만드는 방법을 알아보겠습니다.
먼저 파이썬을 이용해 텍스트를 음성으로 변환합니다.
그 다음, ffmpeg 으로 이미지와 음성을 합쳐 동영상을 완성합니다.
참 쉽죠?</code></pre>
    </div>

    <div class="step">
        <h3>2단계: Python으로 음성 파일 생성 (<code>tts_creator.py</code>)</h3>
        <p>아래의 Python 코드를 <code>tts_creator.py</code> 라는 이름의 파일로 저장합니다. 이 코드는 <code>대본.txt</code> 파일을 읽어 <code>narration.mp3</code> 라는 음성 파일을 생성해줍니다.</p>
        <p><strong><code>tts_creator.py</code> 코드:</strong></p>
        <pre><code>from gtts import gTTS
import os

# 대본 파일 경로
script_file_path = '대본.txt'
# 생성될 오디오 파일 경로
audio_file_path = 'narration.mp3'

try:
    # 대본 파일 읽기 (UTF-8 인코딩으로)
    with open(script_file_path, 'r', encoding='utf-8') as file:
        script_text = file.read()

    if script_text:
        print(f"대본을 성공적으로 읽었습니다. 음성 변환을 시작합니다...")
        # gTTS를 사용하여 텍스트를 음성으로 변환 (한국어 'ko')
        tts = gTTS(text=script_text, lang='ko')
        
        # mp3 파일로 저장
        tts.save(audio_file_path)
        
        print(f"성공! '{audio_file_path}' 파일이 생성되었습니다.")
    else:
        print("대본 파일에 내용이 없습니다.")

except FileNotFoundError:
    print(f"오류: '{script_file_path}' 파일을 찾을 수 없습니다.")
except Exception as e:
    print(f"오류가 발생했습니다: {e}")
</code></pre>
        <p><strong>실행 방법:</strong></p>
        <p>터미널에서 아래 명령어를 실행하면, <code>tts_creator.py</code>가 실행되어 <code>narration.mp3</code> 파일이 생성됩니다.</p>
        <pre><code>python tts_creator.py</code></pre>
    </div>

    <div class="step">
        <h3>3단계: 이미지 파일 준비</h3>
        <p>대본의 내용과 길이에 맞춰 동영상에 표시할 이미지들을 준비합니다. 이미지 파일 이름은 <code>image01.png</code>, <code>image02.png</code>, <code>image03.png</code>... 와 같이 순서대로 번호를 붙여주세요.</p>
        <ul>
            <li><code>image01.png</code>: "안녕하세요" 부분에 나올 이미지</li>
            <li><code>image02.png</code>: "파이썬" 관련 부분에 나올 이미지</li>
            <li><code>image03.png</code>: "ffmpeg" 관련 부분에 나올 이미지</li>
            <li><code>image04.png</code>: "참 쉽죠?" 부분에 나올 이미지</li>
        </ul>
    </div>

    <div class="step">
        <h3>4단계: <code>ffmpeg</code>으로 동영상 최종 생성</h3>
        <p>이제 모든 재료가 준비되었습니다. 터미널에서 아래 <code>ffmpeg</code> 명령어를 실행하여 이미지와 음성을 합칩니다.</p>
        <pre><code>ffmpeg -framerate 1/5 -i image%02d.png -i narration.mp3 -c:v libx264 -tune stillimage -c:a aac -b:a 192k -pix_fmt yuv420p -shortest output.mp4</code></pre>
        <p><strong>명령어 옵션 설명:</strong></p>
        <ul>
            <li><code>-framerate 1/5</code>: 각 이미지를 5초 동안 표시합니다. (1초에 1/5 프레임)</li>
            <li><code>-i image%02d.png</code>: <code>image01.png</code>, <code>image02.png</code> ... 형식의 이미지 파일을 입력으로 사용합니다.</li>
            <li><code>-i narration.mp3</code>: 음성 파일을 입력으로 사용합니다.</li>
            <li><code>-c:v libx264</code>: 비디오 코덱으로 <code>libx264</code>를 사용 (가장 보편적인 H.264 코덱)</li>
            <li><code>-tune stillimage</code>: 입력이 정지 이미지(사진)임을 알려주어 인코딩을 최적화합니다.</li>
            <li><code>-c:a aac -b:a 192k</code>: 오디오 코덱으로 <code>aac</code>를, 비트레이트는 <code>192k</code>로 설정합니다.</li>
            <li><code>-pix_fmt yuv420p</code>: 대부분의 플레이어에서 호환되는 픽셀 포맷으로 설정합니다.</li>
            <li><code>-shortest</code>: 오디오와 비디오 중 더 짧은 쪽의 길이에 맞춰 동영상을 생성합니다. (즉, 음성 내레이션이 끝나면 동영상도 끝납니다.)</li>
            <li><code>output.mp4</code>: 최종적으로 생성될 동영상 파일의 이름입니다.</li>
        </ul>
    </div>

    <div class="final-step">
        <h2>✨ 완성!</h2>
        <p>위 명령을 실행하면 <code>output.mp4</code> 파일이 생성됩니다. 이 파일을 재생하여 대본의 내용이 목소리로 나오고, 순서에 맞게 이미지가 변경되는 것을 확인하실 수 있습니다.</p>
    </div>

</body>
</html>
